webpackJsonp([0],{

/***/ 133:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nmodule.exports = __webpack_require__(134);\n\nif (false) {\n    module.hot.accept('./core.plugin.state.js', function () {\n        var plugin = require('./core.plugin.state.js');\n        core.reloadPlugin(plugin);\n    });\n}\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/plugins/core.plugin.state/index.js\n// module id = 133\n// module chunks = 0\n\n//# sourceURL=webpack:///./source/plugins/core.plugin.state/index.js?");

/***/ }),

/***/ 134:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nmodule.exports = {\n    name: 'state',\n    events: ['change'],\n    init: function init(definition, done) {\n\n        var core = this;\n\n        var state = {};\n        var stateRef = {};\n\n        // define based on type in all setters\n\n        core.extend({\n            state: stateRef,\n            setState: function setState(nextState) {\n                plugin.set(nextState);\n            },\n            onStateChange: function onStateChange(listener) {\n                plugin.on('change', listener);\n                return function () {\n                    plugin.off('change', listener);\n                };\n            }\n        });\n\n        function find(path, target) {\n            var t = void 0;\n            path.map(function (k) {\n                t = target[k];\n            });\n            return t;\n        }\n\n        function defineProperty(path, key, ref, value) {\n            var newPath = path.concat(key);\n            var id = newPath.join('/');\n            state[id] = value;\n            Object.defineProperty(ref, key, {\n                get: function get() {\n                    return state[id];\n                },\n                set: function set(value) {\n                    define(path, key, ref, value);\n                    plugin.emit('change', { value: value, path: path, key: key });\n                },\n                enumerable: true,\n                configurable: true\n            });\n        }\n        function objectRef(path, value) {\n            var newPath = void 0,\n                id = void 0;\n            var ref = {};\n            for (var key in value) {\n                define(path, key, ref, value[key]);\n            }\n            return ref;\n        }\n        function arrayRef(path, value) {\n            var newPath = void 0,\n                id = void 0;\n            var ref = [];\n            for (var key in value) {\n                define(path, key, ref, value[key]);\n            }\n            return ref;\n        }\n        function define(path, key, ref, value) {\n            var type = core.typeOf(value);\n            if (type === 'object') {\n                value = objectRef(path.concat(key), value);\n            }\n            // else if(type === 'array'){\n            //     value = arrayRef(path, value)\n            // }\n            defineProperty(path, key, ref, value);\n        }\n\n        var plugin = {\n            define: function define() {},\n\n            state: state,\n            set: function set(nextState) {\n                for (var key in nextState) {\n                    define([], key, stateRef, nextState[key]);\n                }\n                return plugin;\n            }\n        };\n\n        done(plugin);\n    }\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/plugins/core.plugin.state/core.plugin.state.js\n// module id = 134\n// module chunks = 0\n\n//# sourceURL=webpack:///./source/plugins/core.plugin.state/core.plugin.state.js?");

/***/ }),

/***/ 135:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nmodule.exports = __webpack_require__(136);\n\nif (false) {\n    module.hot.accept('./source.js', function () {\n        var plugin = require('./source.js');\n        core.reloadPlugin(plugin);\n    });\n}\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/plugins/core.plugin.source/index.js\n// module id = 135\n// module chunks = 0\n\n//# sourceURL=webpack:///./source/plugins/core.plugin.source/index.js?");

/***/ }),

/***/ 136:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nmodule.exports = {\n    name: 'source',\n    events: ['change'],\n    tree: {},\n    init: function init(definition, done) {\n\n        var core = this;\n\n        core.select(['plugins', 'source']).on('update', function (e) {\n            source.emit('change', e);\n        });\n\n        var source = core.source = {\n            ref: function ref(refObject) {\n                if (refObject && refObject['core.source.ref']) {\n                    return core.source.get(refObject['core.source.ref']);\n                }\n                return refObject;\n            },\n            buildElement: function buildElement(element, done) {\n                if (!element) {\n                    return done(element);\n                }\n                var type = element.type,\n                    value = element.value;\n\n                var typeDef = core.types[type];\n                if (!typeDef) {\n                    console.warn('cannot find type \\'' + type + '\\'');\n                    return done();\n                } else if (typeDef.build) {\n                    typeDef.build.call(core, element, done);\n                } else {\n                    done(element);\n                }\n            },\n            build: function build(source, cb) {\n\n                var index = 0;\n                var finished = false;\n                var result = {};\n                var sourceWithIds = {};\n\n                function done() {\n                    if (index === 0 && finished) {\n                        core.source.set(sourceWithIds);\n                        core.source.emit('load', sourceWithIds);\n                        cb && cb(result);\n                    }\n                }\n\n                var _loop = function _loop(m) {\n                    index++;\n                    sourceWithIds[m] = _extends({}, source[m], { id: m });\n                    core.source.buildElement(sourceWithIds[m], function (built) {\n                        result[m] = built;\n                        index--;\n                        done();\n                    });\n                };\n\n                for (var m in source) {\n                    _loop(m);\n                }\n                finished = true;\n                done();\n            },\n            fromJsonFile: function fromJsonFile(path, cb) {\n                function reqListener() {\n                    try {\n                        var _source = JSON.parse(this.responseText);\n                        core.source.build(_source, function (built) {\n                            cb && cb(null, built);\n                        });\n                    } catch (err) {\n                        console.error(err);\n                        cb && cb(err);\n                    }\n                }\n\n                var oReq = new XMLHttpRequest();\n                oReq.addEventListener(\"load\", reqListener);\n                oReq.open(\"GET\", path);\n                oReq.send();\n            }\n        };\n\n        done(source);\n    }\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/plugins/core.plugin.source/source.js\n// module id = 136\n// module chunks = 0\n\n//# sourceURL=webpack:///./source/plugins/core.plugin.source/source.js?");

/***/ }),

/***/ 137:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nmodule.exports = __webpack_require__(138);\n\nif (false) {\n    module.hot.accept('./flatTemplate.js', function () {\n        var plugin = require('./flatTemplate.js');\n        core.reloadPlugin(plugin);\n    });\n}\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/plugins/flatTemplate/index.js\n// module id = 137\n// module chunks = 0\n\n//# sourceURL=webpack:///./source/plugins/flatTemplate/index.js?");

/***/ }),

/***/ 138:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nmodule.exports = {\n    name: 'flatTemplate',\n    components: [__webpack_require__(139), __webpack_require__(141)],\n    events: ['flatTemplate.edit', 'flatTemplate.update'],\n    tree: {\n        isSelecting: false\n    },\n    init: function init(definition, done) {\n\n        var core = this;\n\n        core.Type({\n            name: 'templateElement'\n        });\n\n        core.Type({\n            name: 'templateText'\n        });\n\n        core.Type({\n            name: 'flatTemplate.body'\n        });\n\n        core.Type({\n            name: 'flatTemplate',\n            schema: [{\n                key: \"name\",\n                type: \"string\"\n            }, {\n                key: \"schema\",\n                type: \"schema\"\n            }, {\n                key: \"body\",\n                type: \"flatTemplate.body\"\n            }],\n            build: function build(element, done) {\n                var schema = element.schema,\n                    body = element.body,\n                    id = element.id;\n                var React = core.imports.React;\n\n\n                core.Component({\n                    name: id,\n                    schema: schema,\n                    get: function get() {\n\n                        return {\n                            render: function render() {\n                                var Template = flatTemplate.components.Template;\n\n                                return React.createElement(Template, { id: id, renderElement: function renderElement(element, cb) {\n                                        return core.source.bind(element.id, function (element) {\n                                            return cb(element);\n                                        });\n                                    } });\n                            }\n                        };\n                    },\n\n                    done: done\n                });\n            }\n        });\n\n        var maskStyle = {\n            position: 'absolute',\n            width: '100%',\n            height: '100%',\n            right: 0,\n            bottom: 0,\n            border: '2px solid #6bf',\n            zIndex: 9999,\n            background: 'rgba(120, 200, 255, 0.3)',\n            cursor: 'pointer',\n            pointerEvents: 'none'\n        };\n\n        var mask = document.createElement('div');\n        var hoveredElement = null;\n        var mouseX = 0,\n            mouseY = 0;\n\n        Object.assign(mask.style, maskStyle);\n\n        function findElement(el) {\n            var p = void 0;\n            while (el) {\n                p = el[\"core.template.element\"];\n                if (p && p.type === 'templateElement') {\n                    return el;\n                }\n                el = el.parentElement;\n            }\n        }\n\n        function onClick(e) {\n\n            if (flatTemplate.get('isSelecting')) {\n                if (hoveredElement) {\n                    if (hoveredElement.contains(e.target)) {\n                        e.stopPropagation();\n                        e.preventDefault();\n                        flatTemplate.emit('flatTemplate.selection', hoveredElement[\"core.template.element\"]);\n                    }\n                }\n            }\n        }\n\n        function onMouseMove(e) {\n            if (e.target === hoveredElement) {\n                return;\n            }\n            var element = findElement(e.target);\n            if (!element) {\n                if (mask.parentElement) {\n                    mask.parentElement.removeChild(mask);\n                }\n                hoveredElement = null;\n                return;\n            }\n            hoveredElement = element;\n            if (!flatTemplate.get('isSelecting')) {\n                return;\n            }\n            element.appendChild(mask);\n        }\n\n        function onMouseLeave() {\n            if (flatTemplate.get('isSelecting')) {\n                if (hoveredElement) {\n                    if (mask.parentElement) {\n                        mask.parentElement.removeChild(mask);\n                    }\n                    hoveredElement = null;\n                }\n            }\n        }\n\n        var flatTemplate = {\n            hoveredId: null,\n            enableSelecting: function enableSelecting() {\n                document.body.addEventListener('mousemove', onMouseMove);\n                document.body.addEventListener('mouseleave', onMouseLeave);\n                document.body.addEventListener('click', onClick);\n            },\n            disableSelecting: function disableSelecting() {\n                document.body.removeEventListener('mousemove', onMouseMove);\n                document.body.removeEventListener('mouseleave', onMouseLeave);\n                document.body.removeEventListener('click', onClick);\n            },\n            startSelecting: function startSelecting() {\n                if (hoveredElement) {\n                    hoveredElement.appendChild(mask);\n                }\n                flatTemplate.set(['isSelecting'], true);\n                flatTemplate.emit('flatTemplate.startSelecting', true);\n            },\n            stopSelecting: function stopSelecting() {\n                if (mask.parentElement) {\n                    mask.parentElement.removeChild(mask);\n                }\n                flatTemplate.set(['isSelecting'], false);\n                flatTemplate.emit('flatTemplate.stopSelecting', false);\n            },\n            toggleSelecting: function toggleSelecting() {\n                if (flatTemplate.get(['isSelecting'])) {\n                    flatTemplate.stopSelecting();\n                } else {\n                    flatTemplate.startSelecting();\n                }\n            },\n            update: function update() {}\n        };\n\n        done(flatTemplate);\n    }\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/plugins/flatTemplate/flatTemplate.js\n// module id = 138\n// module chunks = 0\n\n//# sourceURL=webpack:///./source/plugins/flatTemplate/flatTemplate.js?");

/***/ }),

/***/ 139:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nmodule.exports = __webpack_require__(140);\n\nif (false) {\n    module.hot.accept('./Template.jsx', function () {\n\n        var Template = require('./Template.jsx');\n\n        core.injector.revoke(Template.name);\n        core.Component(Template);\n        core.emit('hotUpdate');\n    });\n}\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/plugins/flatTemplate/components/Template/index.js\n// module id = 139\n// module chunks = 0\n\n//# sourceURL=webpack:///./source/plugins/flatTemplate/components/Template/index.js?");

/***/ }),

/***/ 140:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nmodule.exports = {\n    name: \"Template\",\n    description: '',\n    propTypes: {\n        // name: 'string',\n        // title: { type: 'string' },\n        // isOpen: false,\n        // onChange(){}\n    },\n    dependencies: ['flatTemplate.TemplateElement'],\n    get: function get(TemplateElement) {\n\n        var core = this;\n\n        var _core$imports = core.imports,\n            React = _core$imports.React,\n            PropTypes = _core$imports.PropTypes,\n            ReactDom = _core$imports.ReactDom;\n\n\n        return {\n            propsTypes: {\n                // title: PropTypes.string\n            },\n            getDefaultProps: function getDefaultProps() {\n                return {\n                    renderElement: function renderElement(element, cb) {\n                        return cb(element);\n                    }\n                };\n            },\n            getInitialState: function getInitialState() {\n\n                return null;\n            },\n            componentDidMount: function componentDidMount() {},\n            componentWillUnmount: function componentWillUnmount() {},\n            renderTemplateItem: function renderTemplateItem(item, template, parent) {\n                var _this = this;\n\n                return React.createElement(\n                    TemplateElement,\n                    {\n                        item: item,\n                        key: item.id\n                    },\n                    this.props.renderElement(item, function (item) {\n                        var element = item.value;\n                        if (item.type === 'templateText') {\n                            return element;\n                        }\n                        var type = element.type,\n                            props = element.props;\n\n                        var Component = core.components[type] || type;\n                        if (!Component) {\n                            console.warn('cannot find component ' + type);\n                            return null;\n                        }\n                        var children = (element.children || []).map(function (id) {\n                            var child = template[id];\n                            return _this.renderTemplateItem(child, template, element);\n                        });\n                        var args = [Component, _extends({ key: element.id }, props)].concat(children);\n                        return React.createElement.apply(React, args);\n                    })\n                );\n            },\n            render: function render() {\n                var id = this.props.id;\n\n                var source = core.source.get();\n                var template = source[id];\n                var rootElement = core.source.ref(template.value.rootElement);\n                return rootElement ? this.renderTemplateItem(rootElement, source, null) : null;\n            }\n        };\n    }\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/plugins/flatTemplate/components/Template/Template.jsx\n// module id = 140\n// module chunks = 0\n\n//# sourceURL=webpack:///./source/plugins/flatTemplate/components/Template/Template.jsx?");

/***/ }),

/***/ 141:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nmodule.exports = __webpack_require__(142);\n\nif (false) {\n    module.hot.accept('./TemplateElement.jsx', function () {\n\n        var TemplateElement = require('./TemplateElement.jsx');\n\n        core.injector.revoke(TemplateElement.name);\n        core.Component(TemplateElement);\n        core.emit('hotUpdate');\n    });\n}\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/plugins/flatTemplate/components/TemplateElement/index.js\n// module id = 141\n// module chunks = 0\n\n//# sourceURL=webpack:///./source/plugins/flatTemplate/components/TemplateElement/index.js?");

/***/ }),

/***/ 142:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nmodule.exports = {\n    name: \"TemplateElement\",\n    description: '',\n    propTypes: {\n        // name: 'string',\n        // title: { type: 'string' },\n        // isOpen: false,\n        // onChange(){}\n    },\n    dependencies: [],\n    get: function get() {\n\n        var core = this;\n\n        var _core$imports = core.imports,\n            React = _core$imports.React,\n            PropTypes = _core$imports.PropTypes,\n            ReactDom = _core$imports.ReactDom;\n\n\n        return {\n            propsTypes: {\n                // title: PropTypes.string\n            },\n            getDefaultProps: function getDefaultProps() {\n                return {};\n            },\n            getInitialState: function getInitialState() {\n\n                return { error: null };\n            },\n            componentDidMount: function componentDidMount() {\n                this.getElement();\n                core.plugins.flatTemplate.on('update', this.onUpdate);\n            },\n            componentWillUnmount: function componentWillUnmount() {\n                core.plugins.flatTemplate.off('update', this.onUpdate);\n            },\n            getElement: function getElement() {\n                var element = ReactDom.findDOMNode(this);\n                if (!element) {\n                    return;\n                }\n                if (element.nodeType !== 1) {\n                    element = element.parentElement;\n                }\n                if (element !== this.element) {\n                    element[\"core.template.element\"] = this.props.item;\n                    if (!element.style.position) {\n                        element.style.position = 'relative';\n                    }\n                    this.element = element;\n                }\n            },\n            onUpdate: function onUpdate() {\n                this.getElement();\n            },\n            componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n                if (nextProps.item !== this.props.item) {\n                    this.element[\"core.template.element\"] = nextProps.item;\n                }\n            },\n            componentDidCatch: function componentDidCatch(err) {\n                this.setState({ error: err.toString() });\n            },\n            render: function render() {\n\n                return this.state.error || this.props.children;\n            }\n        };\n    }\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/plugins/flatTemplate/components/TemplateElement/TemplateElement.jsx\n// module id = 142\n// module chunks = 0\n\n//# sourceURL=webpack:///./source/plugins/flatTemplate/components/TemplateElement/TemplateElement.jsx?");

/***/ }),

/***/ 143:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nmodule.exports = __webpack_require__(144);\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/plugins/interact/index.js\n// module id = 143\n// module chunks = 0\n\n//# sourceURL=webpack:///./source/plugins/interact/index.js?");

/***/ }),

/***/ 144:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nmodule.exports = {\n    name: 'interaction',\n    components: [__webpack_require__(145)],\n    init: function init(definition, done) {\n\n        var core = this;\n\n        var _interact = {};\n\n        core.extend({\n            interact: function interact(render) {\n                var Interaction = _interact.components.Interaction;\n                var React = core.imports.React;\n\n                return React.createElement(\n                    Interaction,\n                    null,\n                    render\n                );\n            }\n        });\n\n        done(_interact);\n    }\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/plugins/interact/interact.js\n// module id = 144\n// module chunks = 0\n\n//# sourceURL=webpack:///./source/plugins/interact/interact.js?");

/***/ }),

/***/ 145:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nmodule.exports = __webpack_require__(146);\n\nif (false) {\n    module.hot.accept('./Interaction.jsx', function () {\n\n        var Interaction = require('./Interaction.jsx');\n\n        core.injector.revoke(Interaction.name);\n        core.Component(Interaction);\n        core.emit('hotUpdate');\n    });\n}\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/plugins/interact/components/Interaction/index.js\n// module id = 145\n// module chunks = 0\n\n//# sourceURL=webpack:///./source/plugins/interact/components/Interaction/index.js?");

/***/ }),

/***/ 146:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nmodule.exports = {\n    name: \"Interaction\",\n    description: '',\n    propTypes: {\n        // name: 'string',\n        // title: { type: 'string' },\n        // isOpen: false,\n        // onChange(){}\n    },\n    dependencies: [],\n    get: function get() {\n\n        var core = this;\n\n        var _core$imports = core.imports,\n            React = _core$imports.React,\n            PropTypes = _core$imports.PropTypes,\n            ReactDom = _core$imports.ReactDom;\n\n\n        return {\n            propsTypes: {\n                refs: PropTypes.object\n            },\n            getInitialState: function getInitialState() {\n\n                return {\n                    isHovered: false,\n                    isPressed: false,\n                    isFocused: false\n                };\n            },\n            componentDidMount: function componentDidMount() {\n                var element = this.element = ReactDom.findDOMNode(this);\n                element.addEventListener('mouseenter', this.onMouseEnter);\n                element.addEventListener('mouseleave', this.onMouseLeave);\n                element.addEventListener('mousedown', this.onMouseDown);\n                element.addEventListener('focus', this.onFocus);\n                element.addEventListener('blur', this.onBlur);\n                document.body.addEventListener('mouseleave', this.onMouseLeave);\n                document.body.addEventListener('mouseup', this.onMouseUp);\n            },\n            componentWillUnmount: function componentWillUnmount() {\n                this.element.removeEventListener('mouseenter', this.onMouseEnter);\n                this.element.removeEventListener('mouseleave', this.onMouseLeave);\n                this.element.removeEventListener('mousedown', this.onMouseDown);\n                this.element.removeEventListener('focus', this.onFocus);\n                this.element.removeEventListener('blur', this.onBlur);\n                document.body.removeEventListener('mouseleave', this.onMouseLeave);\n                document.body.removeEventListener('mouseup', this.onMouseUp);\n            },\n            onMouseEnter: function onMouseEnter() {\n                var onHover = this.props.onHover;\n\n                this.setState({\n                    isHovered: true\n                });\n                onHover && onHover(true, this);\n            },\n            onMouseLeave: function onMouseLeave() {\n                if (this.state.isHovered) {\n                    this.setState({\n                        isHovered: false\n                    });\n                }\n            },\n            onMouseDown: function onMouseDown() {\n                this.setState({\n                    isPressed: true\n                });\n            },\n            onMouseUp: function onMouseUp() {\n                if (this.state.isPressed) {\n                    this.setState({\n                        isPressed: false\n                    });\n                }\n            },\n            onFocus: function onFocus() {\n                this.setState({\n                    isFocused: true\n                });\n            },\n            onBlur: function onBlur() {\n                if (this.state.isFocused) {\n                    this.setState({\n                        isFocused: false\n                    });\n                }\n            },\n            render: function render() {\n                return this.props.children(this.state);\n            }\n        };\n    }\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/plugins/interact/components/Interaction/Interaction.jsx\n// module id = 146\n// module chunks = 0\n\n//# sourceURL=webpack:///./source/plugins/interact/components/Interaction/Interaction.jsx?");

/***/ }),

/***/ 147:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nmodule.exports = __webpack_require__(148);\n\nif (false) {\n    module.hot.accept('./core.reactor.bridge.js', function () {\n        var plugin = require('./core.reactor.bridge.js');\n        core.reloadPlugin(plugin);\n    });\n}\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/plugins/core.reactor.bridge/index.js\n// module id = 147\n// module chunks = 0\n\n//# sourceURL=webpack:///./source/plugins/core.reactor.bridge/index.js?");

/***/ }),

/***/ 148:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nmodule.exports = {\n    name: 'core.reactor.bridge',\n    init: function init(definition, done) {\n\n        var core = this;\n\n        var bridge = {\n            callbacks: [],\n            api: {\n                init: function init(cb) {\n                    cb(core.source.get());\n                },\n                startSelecting: function startSelecting() {\n                    if (core.plugins.flatTemplate) {\n                        core.plugins.flatTemplate.startSelecting();\n                    }\n                },\n                stopSelecting: function stopSelecting() {\n                    if (core.plugins.flatTemplate) {\n                        core.plugins.flatTemplate.stopSelecting();\n                    }\n                },\n                setSourceElement: function setSourceElement(sourceElement) {\n                    core.injector.unlock();\n                    core.source.buildElement(sourceElement, function (component) {\n                        if (sourceElement.type === 'component') {\n                            bridge.action('reloadComponent', [{ id: sourceElement.id, schema: component.schema }]);\n                        }\n                        setTimeout(function () {\n                            core.injector.lock();\n                            core.emit('update');\n                        }, 0);\n                    });\n                    core.source.set(sourceElement.id, sourceElement);\n                }\n            },\n            postMessage: function postMessage(message) {\n                // { ns: 'core.studio.message', action: 'init', arguments: ['1', '2'] }\n                var values = [];\n                window.postMessage(JSON.stringify(Object.assign({ ns: 'core.reactor.bridge' }, message), function (key, value) {\n                    if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n                        if (values.indexOf(value) > -1) {\n                            return '[Circular]';\n                        }\n                        values.push(value);\n                    }\n                    return value;\n                }), '*');\n            },\n            action: function action(name, args) {\n                bridge.postMessage({\n                    action: name,\n                    arguments: (args || []).map(function (arg) {\n                        if (core.isFunction(arg)) {\n                            var id = core.uuid();\n                            bridge.callbacks[id] = arg;\n                            return { \"core.reactor.callback\": id };\n                        }\n                        return arg;\n                    })\n                });\n            },\n            onReactorMessage: function onReactorMessage(message) {\n                if (!core.isString(message.data)) {\n                    return;\n                }\n                if (message.data.indexOf('{') !== 0) {\n                    return;\n                }\n                try {\n                    message = JSON.parse(message.data);\n                    if (message && message.ns === 'core.reactor') {\n                        var _message = message,\n                            action = _message.action,\n                            args = _message.args;\n\n                        if (action) {\n                            if (!core.isFunction(bridge.api[action])) {\n                                return console.warn('cannot find action \\'' + action + '\\'');\n                            }\n                            bridge.api[action].apply(bridge, (args || []).map(function (arg) {\n                                var id = arg && arg['core.reactor.callback'];\n                                if (!id) {\n                                    return arg;\n                                }\n                                return function (d) {\n                                    bridge.action('functionReturn', [id, [].slice.call(arguments)]);\n                                };\n                            }));\n                        }\n                    }\n                } catch (err) {\n                    console.error(err);\n                }\n            }\n        };\n\n        window.addEventListener('message', bridge.onReactorMessage, false);\n\n        if (core.plugins.flatTemplate) {\n            core.plugins.flatTemplate.enableSelecting();\n            core.plugins.flatTemplate.on('flatTemplate.selection', function (element) {\n                bridge.action('selectElement', [element]);\n            });\n        }\n\n        core.source.on('load', function (source) {\n            var components = [];\n            for (var m in core.components) {\n                components.push({ name: m, id: m, schema: core.components[m].schema });\n            }\n            bridge.action('load', [{ source: source, components: components }]);\n        });\n\n        core.bridge = bridge;\n\n        done(bridge);\n    }\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/plugins/core.reactor.bridge/core.reactor.bridge.js\n// module id = 148\n// module chunks = 0\n\n//# sourceURL=webpack:///./source/plugins/core.reactor.bridge/core.reactor.bridge.js?");

/***/ }),

/***/ 149:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar React = __webpack_require__(2);\n\nmodule.exports = {\n    name: 'snackbar',\n    tree: {\n        isOpen: false\n    },\n    components: [__webpack_require__(150)],\n    extend: {\n        snack: function snack(message, type) {\n            this.plugins.snackbar.open.apply(this.plugins.snackbar, arguments);\n        }\n    },\n    init: function init(def, done) {\n\n        var core = this;\n\n        function setProps(props) {\n            var snackbar = core.plugins.snackbar;\n\n            snackbar.icon = props.icon;\n            snackbar.props = props.props;\n\n            if (typeof props.message === \"string\") {\n                snackbar.message = props.message;\n            } else if (_typeof(props.message) === \"object\" && props.message.message) {\n                snackbar.message = props.message.message;\n            } else {\n                console.warn('The \"snackbar\" was opened without a message');\n                snackbar.message = core.translate(\"snackbar.errorOccurred\", \"An error has occurred\");\n                snackbar.icon = 'warning';\n            }\n        }\n\n        done({\n            messages: [],\n            open: function open(message, icon, props) {\n                var snackbar = core.plugins.snackbar;\n                snackbar.set('isOpen', false);\n                setTimeout(function () {\n                    var snackbarProps = {\n                        message: message,\n                        icon: icon,\n                        props: props\n                    };\n\n                    if (snackbar.get('isOpen')) {\n                        snackbar.messages.push(snackbarProps);\n                    } else {\n                        setProps(snackbarProps);\n                        snackbar.set('isOpen', true);\n                    }\n                }, 150);\n            },\n            close: function close() {\n                var snackbar = core.plugins.snackbar;\n                snackbar.message = null;\n                snackbar.icon = null;\n                snackbar.set('isOpen', false);\n                if (snackbar.messages.length) {\n                    setTimeout(function () {\n                        setProps(snackbar.messages.shift());\n                        snackbar.set('isOpen', true);\n                    }, 0);\n                }\n            }\n        });\n    }\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/plugins/snackbar/index.js\n// module id = 149\n// module chunks = 0\n\n//# sourceURL=webpack:///./source/plugins/snackbar/index.js?");

/***/ }),

/***/ 150:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _Snackbar = __webpack_require__(151);\n\nvar _Snackbar2 = _interopRequireDefault(_Snackbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar React = __webpack_require__(2);\n\n__webpack_require__(240);\n\nmodule.exports = {\n    name: 'Snackbar',\n    dependencies: [],\n    get: function get() {\n\n        return {\n            closeSnackbar: function closeSnackbar() {\n                core.plugins.snackbar.close();\n            },\n            renderMessage: function renderMessage() {\n                var snackbar = core.plugins.snackbar;\n                var icon = snackbar.icon,\n                    message = snackbar.message;\n\n                switch (icon) {\n                    case 'info':\n                        icon = React.createElement('i', {\n                            className: 'fas fa-info',\n                            style: { color: '#44b', fonSize: 18, marginRight: 6 }\n                        });\n                        break;\n                    case 'warning':\n                        icon = React.createElement('i', {\n                            className: 'fas fa-exclamation-triangle',\n                            style: { color: '#b44', fonSize: 18, marginRight: 6 }\n                        });\n                        break;\n                    case 'success':\n                        icon = React.createElement('i', {\n                            className: 'fas fa-check',\n                            style: { color: '#4b4', fonSize: 18, marginRight: 6 }\n                        });\n                        break;\n                    default:\n                        return message;\n                }\n                return React.createElement(\n                    'div',\n                    { style: { display: 'flex', alignItems: 'center', justifyContent: 'space-between' } },\n                    React.createElement(\n                        'div',\n                        { style: { 'verticalAlign': 'middle', fontSize: 13, lineHeight: '18px', flex: 1 } },\n                        message\n                    ),\n                    React.createElement(\n                        'div',\n                        null,\n                        icon\n                    )\n                );\n            },\n            render: function render() {\n                var _this = this;\n\n                var snackbar = core.plugins.snackbar;\n                return snackbar.bind('isOpen', function (isOpen) {\n                    var icon = snackbar.icon,\n                        message = snackbar.message;\n\n                    switch (icon) {\n                        case 'info':\n                            icon = React.createElement('i', {\n                                className: 'fas fa-info',\n                                style: { color: 'rgb(87, 176, 236)', fontSize: '16px', width: 20, textAlign: 'center' }\n                            });\n                            break;\n                        case 'warning':\n                            icon = React.createElement('i', {\n                                className: 'fas fa-exclamation-triangle',\n                                style: { color: 'rgb(241, 200, 92)', fontSize: '18px', width: 20, textAlign: 'center' }\n                            });\n                            break;\n                        case 'success':\n                            icon = React.createElement('i', {\n                                className: 'fas fa-check',\n                                style: { color: 'rgb(92, 185, 92)', fontSize: '18px', width: 20, textAlign: 'center' }\n                            });\n                            break;\n                    }\n\n                    return React.createElement(_Snackbar2.default, _extends({\n                        anchorOrigin: {\n                            vertical: 'bottom',\n                            horizontal: 'center'\n                        },\n                        open: isOpen,\n                        autoHideDuration: 3000,\n                        onClose: _this.closeSnackbar,\n                        message: message,\n                        action: icon\n                    }, snackbar.props, {\n                        className: 'snackbar' + (snackbar.props && snackbar.props.className ? ' ' + snackbar.props.className : '')\n                    }));\n                });\n            }\n        };\n    }\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/plugins/snackbar/Snackbar.jsx\n// module id = 150\n// module chunks = 0\n\n//# sourceURL=webpack:///./source/plugins/snackbar/Snackbar.jsx?");

/***/ }),

/***/ 240:
/***/ (function(module, exports, __webpack_require__) {

eval("// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(241);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":true}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(243)(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!./snackbar.css\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!./snackbar.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/plugins/snackbar/snackbar.css\n// module id = 240\n// module chunks = 0\n\n//# sourceURL=webpack:///./source/plugins/snackbar/snackbar.css?");

/***/ }),

/***/ 241:
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(242)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".snackbar > .jss151{\\r\\n    border-radius: 3px 3px 0px 0px !important;\\r\\n}\", \"\"]);\n\n// exports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./source/plugins/snackbar/snackbar.css\n// module id = 241\n// module chunks = 0\n\n//# sourceURL=webpack:///./source/plugins/snackbar/snackbar.css?./node_modules/css-loader");

/***/ }),

/***/ 55:
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__(56);\n\n\n//////////////////\n// WEBPACK FOOTER\n// multi ./source/App.jsx\n// module id = 55\n// module chunks = 0\n\n//# sourceURL=webpack:///multi_./source/App.jsx?");

/***/ }),

/***/ 56:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar React = __webpack_require__(2);\nvar ReactDom = __webpack_require__(13);\nvar core = __webpack_require__(66);\n\ncore.Type({\n    name: 'componentSource',\n    build: function build(source, done) {\n\n        var module = { exports: {} };\n        var code = '( function(module, exports, require){ ' + source.value.code + ' } )';\n        eval(code).call(core, module, module.exports, function (id) {\n            return core.modules[id];\n        });\n        module.exports.done = done;\n        core.Component(module.exports);\n    }\n});\n\ncore.plugin([__webpack_require__(133), __webpack_require__(135), __webpack_require__(137), __webpack_require__(143), __webpack_require__(147), __webpack_require__(149)]);\n\ncore.Component({\n    name: 'Button',\n    schema: [{\n        key: 'title',\n        type: 'string'\n    }],\n    get: function get() {\n        var core = this;\n        var React = core.imports.React;\n\n\n        return {\n            render: function render() {\n                return React.createElement(\n                    'button',\n                    null,\n                    this.props.title || ''\n                );\n            }\n        };\n    }\n});\n\ncore.source.fromJsonFile(\"coreObject.json\", function (err, built) {\n\n    var MasterTemplate = built['core.templates.master'];\n\n    var Root = function (_React$Component) {\n        _inherits(Root, _React$Component);\n\n        function Root() {\n            _classCallCheck(this, Root);\n\n            return _possibleConstructorReturn(this, (Root.__proto__ || Object.getPrototypeOf(Root)).apply(this, arguments));\n        }\n\n        _createClass(Root, [{\n            key: 'componentDidMount',\n            value: function componentDidMount() {\n                var _this2 = this;\n\n                core.on('update', function (e) {\n                    return _this2.forceUpdate();\n                });\n            }\n        }, {\n            key: 'render',\n            value: function render() {\n                return React.createElement(MasterTemplate, null);\n            }\n        }]);\n\n        return Root;\n    }(React.Component);\n\n    ReactDom.render(React.createElement(Root, null), document.getElementById('app'));\n});\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/App.jsx\n// module id = 56\n// module chunks = 0\n\n//# sourceURL=webpack:///./source/App.jsx?");

/***/ })

},[55]);